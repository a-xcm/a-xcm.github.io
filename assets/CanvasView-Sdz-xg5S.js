import{b as s,d as u,o as c,e as m,f as d,c as v,w as h,r as _,g as p}from"./index-DutcRDpD.js";const w=["width","height"],f={__name:"TheCanvas",props:{width:{type:Number,default:200},height:{type:Number,default:200}},emits:["initCanvas"],setup(i,{emit:t}){const o=i,n=t,e=s(null);return u(()=>{if(e.value.getContext){const a=e.value.getContext("2d");n("initCanvas",a)}else console("canvas not supported")}),(a,r)=>(c(),m("canvas",{ref_key:"canvas",ref:e,width:o.width,height:o.height}," canvas not supported ",8,w))}},g={__name:"CanvasView",setup(i){const t=s(null),o=a=>{t.value=a,window.requestAnimationFrame(e)},n=s(0),e=()=>{if(t.value.clearRect(0,0,200,200),t.value.fillStyle="red",t.value.fillText(n.value,10,50),n.value++,n.value>99){n.value=0,window.cancelAnimationFrame(e);return}window.requestAnimationFrame(e)};return d(()=>window.cancelAnimationFrame(e)),(a,r)=>{const l=_("layout");return c(),v(l,null,{default:h(()=>[p(f,{width:200,height:200,onInitCanvas:o})]),_:1})}}};export{g as default};
